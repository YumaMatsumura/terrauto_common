cmake_minimum_required(VERSION 3.14)
project({{PACKAGE_NAME}})

set({{NODE_NAME}}_executable {{NODE_NAME}})
set({{NODE_NAME}}_library ${{{NODE_NAME}}_executable}_core)

# find dependencies
find_package(terrauto_cmake REQUIRED)
terrauto_package()

# create the executor target
ament_auto_add_executable(${{{NODE_NAME}}_executable}
  src/{{NODE_NAME}}_node.cpp
  src/{{NODE_NAME}}_component.cpp
)

# create the component target
ament_auto_add_library(${{{NODE_NAME}}_library} SHARED
  src/{{NODE_NAME}}_component.cpp
)
rclcpp_components_register_nodes(${{{NODE_NAME}}_library}
  "{{PACKAGE_NAME}}::{{CLASS_NAME}}"
)

ament_auto_package(
  USE_SCOPED_HEADER_INSTALL_DIR
)
